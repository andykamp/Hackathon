import json
from pprint import pprint

"""Calculates the yolo, gammel and prippen values to each user"""

yolo = {
 '1dilemma': {1: '10', 3: '0'},
 '1etisk': {1: '0', 2: '5', 3: '10'},
 '1harDu': {1: '10', 2: '5', 3: '0'},
 '1hotOrNot': {1: '10', 3: '0'},
 '1tekst': {1: '0', 2: '5', 3: '10'},
 '2dilemma': {1: '0', 3: '10'},
 '2harDu': {1: '10', 2: '5', 3: '0'},
 '2hotOrNot': {1: '10', 3: '0'},
 '2tekst': {1: '0', 2: '5', 3: '10'},
 '3dilemma': {1: '5', 3: '5', 0: 1},
 '3harDu': {1: '5', 2: '5', 3: '5', 0: 1},
 '3hotOrNot': {1: '5', 3: '5', 0: 1},
 '3tekst': {1: '5', 2: '5', 3: '5', 0: 1},
 '4dilemma': {1: '10', 3: '0'},
 '4hotOrNot': {1: '10', 3: '0'},
 '4tekst': {1: '5', 2: '5', 3: '5', 0: 1},
 '5hotOrNot': {1: '10', 3: '0'},
 '6hotOrNot': {1: '5', 3: '5', 0: 1}
 }

gammel = {
  '1dilemma': {1: '10', 3: '0'},
  '1etisk': {1: '10', 2: '5', 3: '0'},
  '1harDu': {1: '0', 2: '10', 3: '5'},
  '1hotOrNot': {1: '10', 3: '0'},
  '1tekst': {1: '10', 2: '5', 3: '0'},
  '2dilemma': {1: '10', 3: '0'},
  '2harDu': {1: '0', 2: '10', 3: '5'},
  '2hotOrNot': {1: '0', 3: '10'},
  '2tekst': {1: '10', 2: '5', 3: '0'},
  '3dilemma': {1: '5', 3: '5', 0: 1},
  '3harDu': {1: '5', 2: '5', 3: '5', 0: 1},
  '3hotOrNot': {1: '0', 3: '10'},
  '3tekst': {1: '5', 2: '5', 3: '5', 0: 1},
  '4dilemma': {1: '0', 3: '10'},
  '4hotOrNot': {1: '0', 3: '10'},
  '4tekst': {1: '5', 2: '5', 3: '5', 0: 1},
  '5hotOrNot': {1: '5', 3: '5', 0: 1},
  '6hotOrNot': {1: '5', 3: '5', 0: 1}
}

prippen = {
   '1dilemma': {1: '0', 3: '10'},
   '1etisk': {1: '10', 2: '0', 3: '5'},
   '1harDu': {1: '0', 2: '5', 3: '10'},
   '1hotOrNot': {1: '0', 3: '10'},
   '1tekst': {1: '5', 2: '10', 3: '0'},
   '2dilemma': {1: '5', 3: '5', 0: 1},
   '2harDu': {1: '0', 2: '5', 3: '10'},
   '2hotOrNot': {1: '0', 3: '10'},
   '2tekst': {1: '5', 2: '10', 3: '0'},
   '3dilemma': {1: '5', 3: '5', 0: 1},
   '3harDu': {1: '5', 2: '5', 3: '5', 0: 1},
   '3hotOrNot': {1: '0', 3: '10'},
   '3tekst': {1: '0', 2: '5', 3: '10'},
   '4dilemma': {1: '0', 3: '10'},
   '4hotOrNot': {1: '0', 3: '10'},
   '4tekst': {1: '5', 2: '5', 3: '5', 0: 1},
   '5hotOrNot': {1: '0', 3: '10'},
   '6hotOrNot': {1: '5', 3: '5', 0: 1}
   }


json_data = open('./answers/answers.json').read()

a = {}
data = json.loads(json_data)

for p in data:
    su_yolo = 0
    su_gammel = 0
    su_prippen = 0
    antal_y = 0
    antal_g = 0
    antal_p = 0
    ans = json.loads(p['answers'])
    for k in ans.keys():
        b = int(ans.get(k).get('S'))
        if b == 0:
            continue
        if not yolo.get(k).get(0, 0):
            antal_y += 1
            su_yolo += int(yolo.get(k).get(b))
        if not gammel.get(k).get(0, 0):
            antal_g += 1
            su_gammel += int(gammel.get(k).get(b))
        if not prippen.get(k).get(0, 0):
            antal_p += 1
            su_prippen += int(prippen.get(k).get(b))
        yol = su_yolo/antal_y if antal_y > 0 else 0
        gam = su_gammel/antal_g if antal_g > 0 else 0
        pri = su_prippen/antal_p if antal_p > 0 else 0
    a[p.get('userID')] = [yol, gam, pri]

pprint(a)

output = {
 115755242470386: [4, 5, 6],
 116101802412382: [3, 7, 6],
 116770799021337: [6, 5, 4],
 117617038932852: [6, 2, 4],
 118056842207313: [2, 5, 7],
 118289742175239: [4, 3, 5],
 118830638812958: [4, 5, 5],
 119739632022284: [1, 5, 7],
 120648078609927: [3, 5, 8],
 120656438604625: [1, 6, 8],
 121879821897638: [3, 6, 6],
 123355928387168: [4, 5, 5],
 124485444962465: [5, 4, 4],
 125490464775053: [6, 2, 5],
 131240974267778: [5, 4, 5],
 131731220811247: [6, 6, 5],
 135883837034657: [4, 5, 5],
 136146103672456: [3, 4, 5],
 136396657001349: [5, 5, 5],
 137007970269932: [2, 6, 7],
 155299561725076: [5, 4, 5],
 157887968140456: [3, 5, 6],
 160877887827026: [2, 4, 6],
 161547697757517: [3, 5, 8],
 165741387314403: [5, 5, 5],
 171532673424184: [3, 5, 7],
 176484119563868: [4, 3, 5],
 180546299181198: [4, 5, 6],
 201595780379126: [6, 2, 3],
 216617185537644: [3, 5, 6],
 247876935734298: [5, 5, 3],
 272470123244790: [3, 6, 6],
 282717415551057: [3, 6, 6],
 288081731677230: [3, 5, 7],
 295342420945785: [4, 6, 6],
 303522013458283: [5, 3, 5],
 317518602051182: [5, 6, 6],
 317810415349962: [5, 2, 3],
 336576913436276: [3, 4, 6],
 340044813122723: [5, 3, 5],
 348300055629039: [0, 0, 0],
 353453295109424: [3, 4, 7],
 358104827957120: [3, 4, 6],
 361043450992924: [3, 3, 6],
 373001819786035: [2, 5, 6],
 383163532114003: [4, 3, 5],
 387728038297018: [6, 4, 4],
 412011569195628: [3, 3, 7],
 416076452122399: [4, 4, 4],
 471715326540611: [4, 5, 6],
 485132711870093: [4, 3, 6],
 486411305056731: [5, 2, 6],
 493606137667925: [6, 5, 5],
 495188770867374: [3, 5, 7],
 516114338727313: [3, 8, 4],
 533131530357182: [5, 3, 5],
 580427142081476: [6, 4, 3],
 629292447270918: [6, 4, 4],
 649662322088231: [8, 3, 3],
 706911806173009: [5, 5, 5],
 740992852776089: [4, 5, 6],
 750342525169527: [5, 3, 5],
 814600625385165: [6, 5, 4],
 832815503556701: [4, 4, 6],
 868970116599441: [4, 5, 6],
 874839929351361: [7, 2, 3],
 1091874697609583: [3, 6, 6],
 1121223008012341: [6, 4, 3],
 1322247351217382: [3, 5, 6],
 1396979797066244: [4, 6, 4],
 1451207721640500: [5, 4, 4],
 1458290774257846: [4, 5, 6],
 1486975168063102: [2, 5, 7],
 1488603141206763: [2, 5, 6],
 1509252535821277: [1, 6, 7],
 1564301523625935: [6, 3, 3],
 1574729569216017: [4, 4, 5],
 1585442358190409: [5, 7, 3],
 1655576954498711: [7, 4, 1],
 1684267091592980: [3, 6, 6],
 1690626804315721: [4, 4, 5],
 1704521382952019: [6, 5, 5],
 1704758103166066: [6, 5, 3],
 1716341158673881: [3, 5, 8],
 1739792706314815: [4, 3, 7],
 1805244169518106: [3, 5, 7],
 1807281369287606: [3, 5, 6],
 1883980075200577: [4, 4, 7],
 1893651537556228: [4, 6, 5],
 1903329163264819: [3, 4, 5],
 1915114832070940: [5, 5, 5],
 1923997317626749: [3, 6, 6],
 1930033057321453: [2, 5, 5],
 1935927113345845: [5, 2, 5],
 1991240197827958: [3, 4, 7],
 1991564317795359: [4, 5, 5],
 2031735000391542: [5, 4, 3],
 2047064265307554: [3, 4, 6],
 2064915427128109: [4, 5, 4],
 'bobby': [2, 6, 7]}
